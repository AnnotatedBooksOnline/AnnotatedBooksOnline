<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Collaboratory: Authentication Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Authentication Class Reference</h1><!-- doxytag: class="Authentication" --><!-- doxytag: inherits="Singleton" --><div class="dynheader">
Inheritance diagram for Authentication:</div>
<div class="dynsection">
<div class="center"><img src="classAuthentication__inherit__graph.png" border="0" usemap="#Authentication_inherit__map" alt="Inheritance graph"/></div>
<map name="Authentication_inherit__map" id="Authentication_inherit__map">
<area shape="rect" href="classSingleton.html" title="{Singleton\n||+ __clone()\l+ __wakeup()\l+ getInstance()\l&#45; __construct()\l}" alt="" coords="35,5,141,133"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Authentication:</div>
<div class="dynsection">
<div class="center"><img src="classAuthentication__coll__graph.png" border="0" usemap="#Authentication_coll__map" alt="Collaboration graph"/></div>
<map name="Authentication_coll__map" id="Authentication_coll__map">
<area shape="rect" href="classSingleton.html" title="{Singleton\n||+ __clone()\l+ __wakeup()\l+ getInstance()\l&#45; __construct()\l}" alt="" coords="35,5,141,133"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classAuthentication-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAuthentication.html#a3da927c6d0643db0d0048b5c21a92f93">getUser</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAuthentication.html#aca16ed99ec2ce7b7a0213a4c718af004">getUserId</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAuthentication.html#a505c6a692893f694cc2d63a102a03338">login</a> ($username, $password)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAuthentication.html#a478caa2b82260f22462a243fdbabad2f">logout</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAuthentication.html#a317b36d37a99df0476dd0ec55f52bf9d">checkPassword</a> ($password)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAuthentication.html#ad311beb355ff37fd815c0141cc7727f3">isLoggedOn</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAuthentication.html#a06867283805ffd4e223167cc15bbd800">getRank</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAuthentication.html#ad5d1fba33f4df315084335f57025eec6">hasPermissionTo</a> ($action)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAuthentication.html#a5e0187c1c057694e6dae84006a6944c7">getPermissionList</a> ()</td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAuthentication.html#a8df399ee7f9eca617e6249935dae2a88">generateUniqueToken</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAuthentication.html#a6e29c7efa70a367135d3e7bf464fad52">assertLoggedOn</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAuthentication.html#a11dc5e2b83d14bcbcc35c7dd5584a1e5">assertPermissionTo</a> ($action)</td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAuthentication.html#a123a88a49f2dea1247f39a60de1c722c">__construct</a> ()</td></tr>
<tr><td colspan="2"><h2>Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAuthentication.html#afc3982cbe2a9766da03e6291249eddb4">$instance</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><a class="el" href="classAuthentication.html">Authentication</a> utility class. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a123a88a49f2dea1247f39a60de1c722c"></a><!-- doxytag: member="Authentication::__construct" ref="a123a88a49f2dea1247f39a60de1c722c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Authentication::__construct </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructs an authentication class instance. </p>

<p>Reimplemented from <a class="el" href="classSingleton.html">Singleton</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a6e29c7efa70a367135d3e7bf464fad52"></a><!-- doxytag: member="Authentication::assertLoggedOn" ref="a6e29c7efa70a367135d3e7bf464fad52" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static Authentication::assertLoggedOn </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Asserts that the user is logged on.</p>
<p>Throws an NotLoggedOnError in all other cases. </p>

</div>
</div>
<a class="anchor" id="a11dc5e2b83d14bcbcc35c7dd5584a1e5"></a><!-- doxytag: member="Authentication::assertPermissionTo" ref="a11dc5e2b83d14bcbcc35c7dd5584a1e5" args="($action)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static Authentication::assertPermissionTo </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>action</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Asserts that the currently logged in user, if any, has permission to perform the specified action.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$action The name of the action, there should be an entry with it in the Permissions table.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classAccessDeniedException.html">AccessDeniedException</a></em>&nbsp;</td><td>If the current user has no permission. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a317b36d37a99df0476dd0ec55f52bf9d"></a><!-- doxytag: member="Authentication::checkPassword" ref="a317b36d37a99df0476dd0ec55f52bf9d" args="($password)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Authentication::checkPassword </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>password</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks a password of a user.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$password</em>&nbsp;</td><td>The password of the user to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true or false. </dd></dl>

</div>
</div>
<a class="anchor" id="a8df399ee7f9eca617e6249935dae2a88"></a><!-- doxytag: member="Authentication::generateUniqueToken" ref="a8df399ee7f9eca617e6249935dae2a88" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static Authentication::generateUniqueToken </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Generates a unique token.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>string A string representing a unique 32-digit hexadecimal number. </dd></dl>

</div>
</div>
<a class="anchor" id="a5e0187c1c057694e6dae84006a6944c7"></a><!-- doxytag: member="Authentication::getPermissionList" ref="a5e0187c1c057694e6dae84006a6944c7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Authentication::getPermissionList </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns an array of all actions the currently logged in user is allowed to perform.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>array An array of strings representing action names. </dd></dl>

</div>
</div>
<a class="anchor" id="a06867283805ffd4e223167cc15bbd800"></a><!-- doxytag: member="Authentication::getRank" ref="a06867283805ffd4e223167cc15bbd800" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Authentication::getRank </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the rank of the current user.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The rank of the current user. </dd></dl>

</div>
</div>
<a class="anchor" id="a3da927c6d0643db0d0048b5c21a92f93"></a><!-- doxytag: member="Authentication::getUser" ref="a3da927c6d0643db0d0048b5c21a92f93" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Authentication::getUser </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the currently logged on user.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The currently logged on user. Null if no user is logged on. </dd></dl>

</div>
</div>
<a class="anchor" id="aca16ed99ec2ce7b7a0213a4c718af004"></a><!-- doxytag: member="Authentication::getUserId" ref="aca16ed99ec2ce7b7a0213a4c718af004" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Authentication::getUserId </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the user id of the currently logged on user.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The user id. </dd></dl>

</div>
</div>
<a class="anchor" id="ad5d1fba33f4df315084335f57025eec6"></a><!-- doxytag: member="Authentication::hasPermissionTo" ref="ad5d1fba33f4df315084335f57025eec6" args="($action)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Authentication::hasPermissionTo </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>action</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Indicates whether the currently logged in user, if any has permission to permorm the action with the specified name. If no users are logged in, it is checked whether guests are allowed to perform the specified action.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$action The name of the action, there should be an entry with it in the Permissions table.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>bool Whether the current user has a rank high enough dor this action. </dd></dl>

</div>
</div>
<a class="anchor" id="ad311beb355ff37fd815c0141cc7727f3"></a><!-- doxytag: member="Authentication::isLoggedOn" ref="ad311beb355ff37fd815c0141cc7727f3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Authentication::isLoggedOn </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks whether a user is logged on.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Whether a user is logged on. </dd></dl>

</div>
</div>
<a class="anchor" id="a505c6a692893f694cc2d63a102a03338"></a><!-- doxytag: member="Authentication::login" ref="a505c6a692893f694cc2d63a102a03338" args="($username, $password)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Authentication::login </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>password</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Logs a user in.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$username</em>&nbsp;</td><td>The username of the user to log in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$password</em>&nbsp;</td><td>The password of the user to log in.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The new user.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classUserBannedException.html">UserBannedException</a></em>&nbsp;</td><td>If the user is banned. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classUserPendingException.html">UserPendingException</a></em>&nbsp;</td><td>If the user is not yet activated. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classUserNotFoundException.html">UserNotFoundException</a></em>&nbsp;</td><td>If no user with the provided username/password combination exists. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a478caa2b82260f22462a243fdbabad2f"></a><!-- doxytag: member="Authentication::logout" ref="a478caa2b82260f22462a243fdbabad2f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Authentication::logout </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Logs the current user out. </p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="afc3982cbe2a9766da03e6291249eddb4"></a><!-- doxytag: member="Authentication::$instance" ref="afc3982cbe2a9766da03e6291249eddb4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Authentication::$instance<code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Unique instance. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>www/backend/util/authentication.php</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Mon Feb 6 18:30:39 2012 for Collaboratory by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
