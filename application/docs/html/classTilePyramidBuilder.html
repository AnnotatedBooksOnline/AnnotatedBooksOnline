<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Collaboratory: TilePyramidBuilder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>TilePyramidBuilder Class Reference</h1><!-- doxytag: class="TilePyramidBuilder" --><!-- doxytag: inherits="Singleton" --><div class="dynheader">
Inheritance diagram for TilePyramidBuilder:</div>
<div class="dynsection">
<div class="center"><img src="classTilePyramidBuilder__inherit__graph.png" border="0" usemap="#TilePyramidBuilder_inherit__map" alt="Inheritance graph"/></div>
<map name="TilePyramidBuilder_inherit__map" id="TilePyramidBuilder_inherit__map">
<area shape="rect" href="classSingleton.html" title="{Singleton\n||+ __clone()\l+ __wakeup()\l+ getInstance()\l&#45; __construct()\l}" alt="" coords="40,5,147,133"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for TilePyramidBuilder:</div>
<div class="dynsection">
<div class="center"><img src="classTilePyramidBuilder__coll__graph.png" border="0" usemap="#TilePyramidBuilder_coll__map" alt="Collaboration graph"/></div>
<map name="TilePyramidBuilder_coll__map" id="TilePyramidBuilder_coll__map">
<area shape="rect" href="classSingleton.html" title="{Singleton\n||+ __clone()\l+ __wakeup()\l+ getInstance()\l&#45; __construct()\l}" alt="" coords="40,5,147,133"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classTilePyramidBuilder-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTilePyramidBuilder.html#ab0b4e43e682c9e3577d43f3af26838f7">resolveInconsistencies</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTilePyramidBuilder.html#a694bcf5f6a6c8d15326d68408155e9cd">doIteration</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTilePyramidBuilder.html#a2daaa252ca14e474fbf92466c98abf46">runBuilder</a> ($iterationPause=5)</td></tr>
<tr><td colspan="2"><h2>Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTilePyramidBuilder.html#ae07c9ce1d0788ab44fc9ff0f3a18442e">$instance</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A class that can be used to register newly uploaded scans which will be put in a queue to be processed. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a694bcf5f6a6c8d15326d68408155e9cd"></a><!-- doxytag: member="TilePyramidBuilder::doIteration" ref="a694bcf5f6a6c8d15326d68408155e9cd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TilePyramidBuilder::doIteration </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>First checks whether the queue is empty and, if so, fills it with new scans.</p>
<p>Then all scans in the queue are processed one by one.</p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>If processing a single scan fails or another error occurs while doing so. The method will try to set that scan's status to error. There might be other scans left in the queue, so calling doIteration again will make it continue with the rest. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab0b4e43e682c9e3577d43f3af26838f7"></a><!-- doxytag: member="TilePyramidBuilder::resolveInconsistencies" ref="ab0b4e43e682c9e3577d43f3af26838f7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TilePyramidBuilder::resolveInconsistencies </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>When the builder crashes while processing a scan but does not succeed to set its error flag, this method can be used to change the processing status of every scan to the error status.</p>
<p>NOTE: Only call this when there are no other threads running the tile pyramid builder simultaniously. </p>

</div>
</div>
<a class="anchor" id="a2daaa252ca14e474fbf92466c98abf46"></a><!-- doxytag: member="TilePyramidBuilder::runBuilder" ref="a2daaa252ca14e474fbf92466c98abf46" args="($iterationPause=5)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TilePyramidBuilder::runBuilder </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>iterationPause</em> = <code>5</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Continuously keep running the pyramid builder.</p>
<p>NOTE: This method resolves inconsistencies every 20 rounds, so make sure only a single thread is executing this method at a time.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>int</em>&nbsp;</td><td>$iterationPause The timeout in seconds after each iteration. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ae07c9ce1d0788ab44fc9ff0f3a18442e"></a><!-- doxytag: member="TilePyramidBuilder::$instance" ref="ae07c9ce1d0788ab44fc9ff0f3a18442e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TilePyramidBuilder::$instance<code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="classSingleton.html">Singleton</a> instance. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>www/backend/util/tilepyramidbuilder.php</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Mon Feb 6 18:31:23 2012 for Collaboratory by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
