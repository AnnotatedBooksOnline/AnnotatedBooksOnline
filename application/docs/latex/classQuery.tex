\hypertarget{classQuery}{
\section{Query Class Reference}
\label{classQuery}\index{Query@{Query}}
}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classQuery_af219d3aed5b3940b49d414d69bab501d}{clear} (\$fields=null)
\item 
\hypertarget{classQuery_ac5a3db6877b1d63b67def06e24bb86cb}{
{\bfseries columns} ()}
\label{classQuery_ac5a3db6877b1d63b67def06e24bb86cb}

\item 
\hypertarget{classQuery_a5e5d7b30a86a5b809137a57a62b684fa}{
{\bfseries count} (\$column= '$\ast$', \$as= 'total')}
\label{classQuery_a5e5d7b30a86a5b809137a57a62b684fa}

\item 
\hypertarget{classQuery_a9ec81787bd0d69ec85987a047915bcb9}{
{\bfseries aggregate} (\$function, \$as= 'aggregate', \$column= '$\ast$')}
\label{classQuery_a9ec81787bd0d69ec85987a047915bcb9}

\item 
\hypertarget{classQuery_ae158383677b601890431921bb035f51b}{
{\bfseries headline} (\$columns, \$query, \$as)}
\label{classQuery_ae158383677b601890431921bb035f51b}

\item 
\hyperlink{classQuery_af44f7bf797779dbbb930e60a53011c6b}{returning} ()
\item 
\hyperlink{classQuery_aaa091145c66718e59db922d065160863}{from} ()
\item 
\hypertarget{classQuery_ade76ff8694567ab372a4f450bb1bcd2e}{
{\bfseries join} (\$table, \$conditions= '', \$type= '')}
\label{classQuery_ade76ff8694567ab372a4f450bb1bcd2e}

\item 
\hyperlink{classQuery_ab1781adb9932c6280373e2abd698f9c8}{where} ()
\item 
\hypertarget{classQuery_a296b505b36d9bc21dfa1608471eabede}{
{\bfseries whereOr} ()}
\label{classQuery_a296b505b36d9bc21dfa1608471eabede}

\item 
\hypertarget{classQuery_a050021933ad19f7394afd8c47bd1e4ed}{
{\bfseries having} ()}
\label{classQuery_a050021933ad19f7394afd8c47bd1e4ed}

\item 
\hypertarget{classQuery_a7810e3ea656afdda873b5985da14386b}{
{\bfseries havingOr} ()}
\label{classQuery_a7810e3ea656afdda873b5985da14386b}

\item 
\hyperlink{classQuery_a44bf1140a6525d7f7e82f7d47e93b87c}{whereFulltext} (\$columns, \$query, \$orNull=false, \$isVector=false)
\item 
\hypertarget{classQuery_ae9110a507cead8d0c57099aaab273799}{
{\bfseries limit} (\$limit=null, \$offset=0)}
\label{classQuery_ae9110a507cead8d0c57099aaab273799}

\item 
\hypertarget{classQuery_af8940f0c7aede42d1029995396d787ff}{
{\bfseries groupBy} ()}
\label{classQuery_af8940f0c7aede42d1029995396d787ff}

\item 
\hypertarget{classQuery_a89307b4afda564f5ea9afb0733007161}{
{\bfseries orderBy} (\$column, \$direction= 'asc')}
\label{classQuery_a89307b4afda564f5ea9afb0733007161}

\item 
\hypertarget{classQuery_aaffa7dab063581b36110f081a9a16ff8}{
{\bfseries execute} (\$arguments=array(), \$types=null)}
\label{classQuery_aaffa7dab063581b36110f081a9a16ff8}

\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classQuery_af2be941b80c1e376f373ff3d25928a70}{select} ()
\item 
static \hyperlink{classQuery_abbefb2e22d6caa9727832bd60ccb46db}{insert} (\$table, \$values)
\item 
static \hyperlink{classQuery_abcc72cbfecd4b301f964960dad0611e2}{update} (\$table, \$values)
\item 
static \hyperlink{classQuery_a5c5ec3da901616c9b405b686d3d338ab}{delete} (\$table)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
EXAMPLES:

Complex example:

\$query = \hyperlink{classQuery_af2be941b80c1e376f373ff3d25928a70}{Query::select}('u.userId')-\/$>$ from('Users u')-\/$>$ count('id', 'grantTotal')-\/$>$ aggregate('MAX', 'maximum')-\/$>$ where('username = :username', 'passwordHash = :hash')-\/$>$ whereOr('username = :username', 'passwordHash = :hash')-\/$>$ join('OtherTable o', array('o.id = u.id', 'o.name = u.name'), 'LEFT')-\/$>$ limit(0, 1)-\/$>$ orderBy('u.username', 'desc')-\/$>$ groupBy('u.name');

\$rowSet = \$query-\/$>$execute(array(':username' =$>$ \$username, ':hash' =$>$ self::secureHash(\$password)));

Simple example:

\hyperlink{classQuery_a5c5ec3da901616c9b405b686d3d338ab}{Query::delete}('Users')-\/$>$where('userId = :id')-\/$>$execute(array('id' =$>$ \$userId);

See also the \hyperlink{classUser}{User} model. 

\subsection{Member Function Documentation}
\hypertarget{classQuery_af219d3aed5b3940b49d414d69bab501d}{
\index{Query@{Query}!clear@{clear}}
\index{clear@{clear}!Query@{Query}}
\subsubsection[{clear}]{\setlength{\rightskip}{0pt plus 5cm}Query::clear (\$ {\em fields} = {\ttfamily null})}}
\label{classQuery_af219d3aed5b3940b49d414d69bab501d}
Clears all query elements that have been set.


\begin{DoxyParams}{Parameters}
\item[{\em array}]\$fields The elements to clear. When null (default), will clear all elements. \end{DoxyParams}
\hypertarget{classQuery_a5c5ec3da901616c9b405b686d3d338ab}{
\index{Query@{Query}!delete@{delete}}
\index{delete@{delete}!Query@{Query}}
\subsubsection[{delete}]{\setlength{\rightskip}{0pt plus 5cm}static Query::delete (\$ {\em table})\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classQuery_a5c5ec3da901616c9b405b686d3d338ab}
Determine the query should be a DELETE-\/statement. Should generally be followed by a where.


\begin{DoxyParams}{Parameters}
\item[{\em string}]\$table The table from which to delete. \end{DoxyParams}
\hypertarget{classQuery_aaa091145c66718e59db922d065160863}{
\index{Query@{Query}!from@{from}}
\index{from@{from}!Query@{Query}}
\subsubsection[{from}]{\setlength{\rightskip}{0pt plus 5cm}Query::from ()}}
\label{classQuery_aaa091145c66718e59db922d065160863}
When constructing a SELECT-\/statement, specifies which table(s) to select from.


\begin{DoxyParams}{Parameters}
\item[{\em string/array}]\$tables An array of SQL identifiers representing tables to select from. It's also possible to specify a single string, which will be interpreted as an array containing only that. \end{DoxyParams}
\hypertarget{classQuery_abbefb2e22d6caa9727832bd60ccb46db}{
\index{Query@{Query}!insert@{insert}}
\index{insert@{insert}!Query@{Query}}
\subsubsection[{insert}]{\setlength{\rightskip}{0pt plus 5cm}static Query::insert (\$ {\em table}, \/  \$ {\em values})\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classQuery_abbefb2e22d6caa9727832bd60ccb46db}
Determines the query should be an INSERT-\/statement and specifies its parameters.


\begin{DoxyParams}{Parameters}
\item[{\em string}]\$table The name of the table in which to insert. \item[{\em array}]\$vals An associative array with column names as keys and as values parameter marks or SQL values. \end{DoxyParams}
\hypertarget{classQuery_af44f7bf797779dbbb930e60a53011c6b}{
\index{Query@{Query}!returning@{returning}}
\index{returning@{returning}!Query@{Query}}
\subsubsection[{returning}]{\setlength{\rightskip}{0pt plus 5cm}Query::returning ()}}
\label{classQuery_af44f7bf797779dbbb930e60a53011c6b}
Specifies a column to be added to the returning clause.

Returning is a very useful PostgreSQL feature. See also the PostgreSQL documentation at \href{http://www.postgresql.org/docs/9.1/static/sql-insert.html}{\tt http://www.postgresql.org/docs/9.1/static/sql-\/insert.html}


\begin{DoxyParams}{Parameters}
\item[{\em string}]... The names of the column of which the value should be added to the result set. \end{DoxyParams}
\hypertarget{classQuery_af2be941b80c1e376f373ff3d25928a70}{
\index{Query@{Query}!select@{select}}
\index{select@{select}!Query@{Query}}
\subsubsection[{select}]{\setlength{\rightskip}{0pt plus 5cm}static Query::select ()\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classQuery_af2be941b80c1e376f373ff3d25928a70}
Determines the query should be a SELECT-\/statement, if not yet the case, and specifies which columns should be selected. If already called on the same object before, it will extend the columns to be selected. If a single select with no argument or an empty array has been made, all columns will be selected.


\begin{DoxyParams}{Parameters}
\item[{\em ...}]SQL Identifiers representing columns to limit the result of the selection to. \end{DoxyParams}
\hypertarget{classQuery_abcc72cbfecd4b301f964960dad0611e2}{
\index{Query@{Query}!update@{update}}
\index{update@{update}!Query@{Query}}
\subsubsection[{update}]{\setlength{\rightskip}{0pt plus 5cm}static Query::update (\$ {\em table}, \/  \$ {\em values})\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classQuery_abcc72cbfecd4b301f964960dad0611e2}
Determines the query should be an UPDATE-\/statement and specifies its parameters. Can (and usually should) be followed by a where.


\begin{DoxyParams}{Parameters}
\item[{\em string}]\$table The name of the table in which to update rows. \item[{\em array}]\$vals An associative array with column names as keys and as values parameter marks or SQL values. \end{DoxyParams}
\hypertarget{classQuery_ab1781adb9932c6280373e2abd698f9c8}{
\index{Query@{Query}!where@{where}}
\index{where@{where}!Query@{Query}}
\subsubsection[{where}]{\setlength{\rightskip}{0pt plus 5cm}Query::where ()}}
\label{classQuery_ab1781adb9932c6280373e2abd698f9c8}
Specify the a condition of a query. Each argument should be a string containing a predicate that will be directly placed in the where-\/statement of the query. \hyperlink{classNote}{Note} that its contents will NOT be escaped or validated, so make sure they do not directly depend on user input. Parameter markers should be used instead.

The currently supported operators are '$<$','$>$','$>$=','$<$=', '=','==', 'is','like', 'ilike', '!=', '$<$$>$', 'not is', 'not like', 'not ilike', 'overlaps', 'in' and 'not in'. Operators are case insensitive.

The arguments are separated by a logical AND's. Use whereOr to separate them with OR's. \hypertarget{classQuery_a44bf1140a6525d7f7e82f7d47e93b87c}{
\index{Query@{Query}!whereFulltext@{whereFulltext}}
\index{whereFulltext@{whereFulltext}!Query@{Query}}
\subsubsection[{whereFulltext}]{\setlength{\rightskip}{0pt plus 5cm}Query::whereFulltext (\$ {\em columns}, \/  \$ {\em query}, \/  \$ {\em orNull} = {\ttfamily false}, \/  \$ {\em isVector} = {\ttfamily false})}}
\label{classQuery_a44bf1140a6525d7f7e82f7d47e93b87c}
A specific where implementation for fulltext searches. 

The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
www/backend/framework/database/query.php\end{DoxyCompactItemize}
